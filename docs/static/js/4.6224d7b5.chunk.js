(this.webpackJsonpbudash=this.webpackJsonpbudash||[]).push([[4],{449:function(e,t,a){"use strict";a.r(t);var n=a(8),c=a(0),r=a.n(c),s=a(448),i=a(224),l=a(222),o=a(225),j=a(62),u=a(101),d=a(15),b=a(226),O=a(49),h=a(57),x=a(4),p=a(440),m=a(441),f=a(233),v=a(300),g=a.n(v),S=a(450),y=a(231),C=a(116),k=a(442),w=a(301),N=a.n(w),D=a(12),T=a(234),P=a(113),q=a(436),_=a(295),H=a.n(_),z=a(2);function A(){var e=r.a.useState(null),t=Object(n.a)(e,2),a=t[0],s=t[1],i=Object(c.useContext)(j.a),l=Object(n.a)(i,2),o=l[0],u=l[1],d=function(){s(null)};return Object(z.jsxs)("div",{style:{marginLeft:"auto"},children:[Object(z.jsx)("span",{children:o.user.name}),Object(z.jsx)(T.a,{"aria-controls":"simple-menu",style:{color:"#fff"},"aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},children:Object(z.jsx)(H.a,{})}),Object(z.jsxs)(P.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:d,children:[Object(z.jsx)(D.b,{to:"/profile/me",style:I,children:Object(z.jsx)(q.a,{onClick:d,children:"Profile"})}),Object(z.jsx)(q.a,{onClick:function(){u(null),localStorage.removeItem("budash")},children:"Logout"})]})]})}var I={textDecoration:"none",color:"inherit"},W=a(437),B=a(438),V=a(439),L=a(296),E=a.n(L),R=a(297),J=a.n(R),M=a(298),G=a.n(M),F=a(299),U=a.n(F),X={color:"inherit",textDecoration:"inherit"},K=function(){var e=Object(d.h)().pathname;return Object(z.jsxs)("div",{children:[Object(z.jsx)(D.c,{to:"/dashboard",style:X,activeClassName:"activeNavLinks",children:Object(z.jsxs)(W.a,{button:!0,selected:"/dashboard"===e,children:[Object(z.jsx)(B.a,{children:Object(z.jsx)(E.a,{color:"/dashboard"===e?"primary":"inherit"})}),Object(z.jsx)(V.a,{primary:"Dashboard"})]})}),Object(z.jsx)(D.c,{to:"/dashboard/article",style:X,activeClassName:"activeNavLinks",children:Object(z.jsxs)(W.a,{button:!0,selected:!!e.includes("/article"),children:[Object(z.jsx)(B.a,{children:Object(z.jsx)(J.a,{color:e.includes("/article")?"primary":"inherit"})}),Object(z.jsx)(V.a,{primary:"Articles"})]})}),Object(z.jsx)(D.c,{to:"/dashboard/project",style:X,activeClassName:"activeNavLinks",children:Object(z.jsxs)(W.a,{button:!0,selected:!!e.includes("/project"),children:[Object(z.jsx)(B.a,{children:Object(z.jsx)(G.a,{color:e.includes("/project")?"primary":"inherit"})}),Object(z.jsx)(V.a,{primary:"Projects"})]})}),Object(z.jsx)(D.c,{to:"/dashboard/journal",style:X,activeClassName:"activeNavLinks",children:Object(z.jsxs)(W.a,{button:!0,selected:!!e.includes("/journal"),children:[Object(z.jsx)(B.a,{children:Object(z.jsx)(U.a,{color:e.includes("/journal")?"primary":"inherit"})}),Object(z.jsx)(V.a,{primary:"Journals"})]})})]})},Q=a(235),Y=function(){var e=Z(),t=r.a.useState(!0),a=Object(n.a)(t,2),s=a[0],i=a[1];return Object(z.jsxs)(c.Fragment,{children:[Object(z.jsx)(p.a,{position:"absolute",className:Object(x.a)(e.appBar,s&&e.appBarShift),children:Object(z.jsxs)(m.a,{className:e.toolbar,children:[Object(z.jsx)(f.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},className:Object(x.a)(e.menuButton,s&&e.menuButtonHidden),children:Object(z.jsx)(g.a,{})}),Object(z.jsx)(C.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:Object(z.jsx)(Q.a,{href:"/",target:"_blank",style:{color:"#fff",textDecoration:"none"},children:"Budash"})}),Object(z.jsx)(A,{})]})}),Object(z.jsxs)(S.a,{variant:"permanent",classes:{paper:Object(x.a)(e.drawerPaper,!s&&e.drawerPaperClose)},open:s,children:[Object(z.jsx)("div",{className:e.toolbarIcon,children:Object(z.jsx)(f.a,{onClick:function(){i(!1)},children:Object(z.jsx)(N.a,{})})}),Object(z.jsx)(k.a,{}),Object(z.jsx)(y.a,{children:Object(z.jsx)(K,{})})]})]})},Z=Object(l.a)((function(e){return{toolbar:{paddingRight:24},toolbarIcon:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(O.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),$=a(230),ee=a(219),te=function(){var e=ae();return Object(z.jsx)("div",{children:Object(z.jsxs)(ee.a,{container:!0,spacing:3,children:[Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)($.a,{className:e.paper,children:"xs=12"})}),Object(z.jsx)(ee.a,{item:!0,xs:6,children:Object(z.jsx)($.a,{className:e.paper,children:"xs=6"})}),Object(z.jsx)(ee.a,{item:!0,xs:6,children:Object(z.jsx)($.a,{className:e.paper,children:"xs=6"})}),Object(z.jsx)(ee.a,{item:!0,xs:3,children:Object(z.jsx)($.a,{className:e.paper,children:"xs=3"})}),Object(z.jsx)(ee.a,{item:!0,xs:3,children:Object(z.jsx)($.a,{className:e.paper,children:"xs=3"})}),Object(z.jsx)(ee.a,{item:!0,xs:3,children:Object(z.jsx)($.a,{className:e.paper,children:"xs=3"})}),Object(z.jsx)(ee.a,{item:!0,xs:3,children:Object(z.jsx)($.a,{className:e.paper,children:"xs=3"})})]})})},ae=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),color:e.palette.text.secondary}}})),ne=a(270),ce=a(13),re=a.n(ce),se=a(19),ie=a(20),le=a.n(ie),oe=a(242),je=a(260),ue=a.n(je),de=a(261),be=a.n(de),Oe=a(453),he=a(302),xe=a(443),pe=a(447),me=a(446),fe=a(444),ve=a(445),ge=a(306),Se=a.n(ge),ye=a(305),Ce=a.n(ye),ke=a(307),we=a.n(ke),Ne=a(304),De=a.n(Ne),Te=function(e){var t=e.columns,a=e.data,n=e.fetchData,r=e.loading,s=e.pageCount,i=e.dataRange,l=Object(he.useTable)({columns:t,data:a,initialState:{pageIndex:0},manualPagination:!0,pageCount:s},he.usePagination),o=l.getTableProps,j=l.getTableBodyProps,u=l.headerGroups,d=l.prepareRow,b=l.page,O=l.canPreviousPage,x=l.canNextPage,p=l.pageOptions,m=l.pageCount,v=l.gotoPage,g=l.nextPage,S=l.previousPage,y=l.setPageSize,C=l.state,k=C.pageIndex,w=C.pageSize;return Object(c.useEffect)((function(){n(k+1,w)}),[n,k,w]),Object(z.jsxs)(c.Fragment,{children:[Object(z.jsx)("div",{style:{minHeight:"70vh"},children:Object(z.jsxs)(xe.a,Object(h.a)(Object(h.a)({},o()),{},{children:[Object(z.jsx)(fe.a,{children:u.map((function(e){return Object(z.jsx)(ve.a,Object(h.a)(Object(h.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(z.jsx)(me.a,Object(h.a)(Object(h.a)({},e.getHeaderProps()),{},{style:{fontWeight:"bold"},children:e.render("Header")}))}))}))}))}),Object(z.jsx)(pe.a,Object(h.a)(Object(h.a)({},j()),{},{children:b.map((function(e,t){return d(e),Object(z.jsx)(ve.a,Object(h.a)(Object(h.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(z.jsx)(me.a,Object(h.a)(Object(h.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}),Object(z.jsxs)("div",{className:"pagination",children:[Object(z.jsx)("div",{children:r?Object(z.jsx)("span",{colSpan:"10000",children:"Loading..."}):Object(z.jsxs)("span",{colSpan:"10000",children:["Showing ",i.from," -",i.to," of ~",i.total," ","results"]})}),Object(z.jsx)(f.a,{onClick:function(){return v(0)},disabled:!O,children:Object(z.jsx)(De.a,{})})," ",Object(z.jsx)(f.a,{onClick:function(){return S()},disabled:!O,children:Object(z.jsx)(Ce.a,{})})," ",Object(z.jsx)(f.a,{onClick:function(){return g()},disabled:!x,children:Object(z.jsx)(Se.a,{})})," ",Object(z.jsx)(f.a,{onClick:function(){return v(m-1)},disabled:!x,children:Object(z.jsx)(we.a,{})})," ",Object(z.jsxs)("span",{children:["Page"," ",Object(z.jsxs)("strong",{children:[k+1," of ",p.length]})," "]}),Object(z.jsxs)("span",{children:["| Go to page:"," ",Object(z.jsx)("input",{type:"number",defaultValue:k+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;v(t)},style:{width:"100px"}})]})," ",Object(z.jsx)("select",{value:w,onChange:function(e){y(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return Object(z.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]})},Pe=a(452),qe=a(308),_e=a.n(qe);function He(e){var t=e.toast,a=e.setToast,n=function(e,t){"clickaway"!==t&&a(!1)};return Object(z.jsx)("div",{children:Object(z.jsx)(Pe.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!1!==t,autoHideDuration:6e3,onClose:n,message:t,action:Object(z.jsx)(r.a.Fragment,{children:Object(z.jsx)(f.a,{size:"small","aria-label":"close",color:"inherit",onClick:n,children:Object(z.jsx)(_e.a,{fontSize:"small"})})})})})}var ze=a(239);function Ae(e){var t=e.handleDelete,a=e.setHandleDelete,c=e.currentItem,s=e.deleteItem,i=We(),l=r.a.useState(Ie),o=Object(n.a)(l,1)[0];return Object(z.jsx)("div",{children:Object(z.jsx)(ze.a,{open:t,onClose:function(){a(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(z.jsxs)("div",{style:o,className:i.paper,children:[Object(z.jsx)("h2",{id:"simple-modal-title",children:"Delete"}),Object(z.jsx)("p",{id:"simple-modal-description",children:"Are you sure you want to delete ?"}),Object(z.jsxs)("div",{className:"mt-3",children:[Object(z.jsx)(T.a,{variant:"contained",color:"default",size:"small",className:"mr-3",onClick:function(e){return s(c.slug)},children:"Confrim"}),Object(z.jsx)(T.a,{variant:"contained",color:"primary",size:"small",onClick:function(e){return a(!1)},children:"Cancel"})]})]})})})}function Ie(){return{top:"".concat(30,"%"),left:"".concat(45,"%"),transform:"translate(-".concat(30,"%, -").concat(45,"%)")}}var We=Object(l.a)((function(e){return{paper:{position:"absolute",borderRadius:"5px",width:"30%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}})),Be=function(){var e=Object(d.j)(),t=Object(d.g)(),a=r.a.useState([]),s=Object(n.a)(a,2),i=s[0],l=s[1],o=Object(c.useState)({from:null,to:null}),j=Object(n.a)(o,2),u=j[0],b=j[1],O=r.a.useState(!1),h=Object(n.a)(O,2),x=h[0],p=h[1],m=r.a.useState(0),v=Object(n.a)(m,2),g=v[0],S=v[1],y=Object(c.useState)(null),C=Object(n.a)(y,2),k=C[0],w=C[1],N=Object(c.useState)(!1),P=Object(n.a)(N,2),q=P[0],_=P[1],H=Object(c.useState)({slug:null,index:null}),A=Object(n.a)(H,2),I=A[0],W=A[1],B=Object(c.useState)(!1),V=Object(n.a)(B,2),L=V[0],E=V[1],R=Object(c.useMemo)((function(){return[{Header:"Article title",accessor:"title",Cell:function(e){var t=e.row,a=e.value;return Object(z.jsx)("a",{href:"/articles/".concat(t.original.slug_title),target:"_blank",rel:"noreferrer",children:a})}},{Header:"Status",accessor:"status",Cell:function(e){var t=e.value;return Object(z.jsx)(oe.a,{label:t})}},{Header:"Created At",accessor:"created_at",Cell:function(e){var t=e.value;return Object(z.jsx)("span",{children:new Date(t).toDateString()})}},{Header:"Action",accessor:"id",Cell:function(a){var n=a.row;return Object(z.jsxs)("div",{children:[Object(z.jsx)(Oe.a,{title:"Edit",children:Object(z.jsx)(f.a,{"aria-label":"delete",size:"small",onClick:function(){t.push("".concat(e.path,"/edit/").concat(n.original.slug_title))},className:"mr-3",children:Object(z.jsx)(ue.a,{})})}),Object(z.jsx)(Oe.a,{title:"Delete",children:Object(z.jsx)(f.a,{"aria-label":"delete",size:"small",onClick:function(e){E(!0),W({slug:n.original.slug_title,index:n.index})},className:"mr-3",children:Object(z.jsx)(be.a,{})})})]})}}]}),[t,e]),J=Object(c.useCallback)(function(){var e=Object(se.a)(re.a.mark((function e(t,a){var n,c,r,s,i,o;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,le.a.get("".concat("/article","?page=").concat(t,"&per_page=").concat(a,"&all=yes"));case 3:if((n=e.sent).data.status){e.next=7;break}return w(n.data.message),e.abrupt("return",!1);case 7:c=n.data.data,r=c.data,s=c.total,i=c.from,o=c.to,l(r),b({from:i,to:o,total:s}),S(Math.ceil(s/a)),p(!1);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[]),M=function(){var e=Object(se.a)(re.a.mark((function e(t){var a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,le.a.delete("/article/".concat(t));case 3:a=e.sent,(n=Object(ne.a)(i)).splice(I.index,1),l(n),E(!1),_(a.data.message);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return k?Object(z.jsx)("div",{children:k}):Object(z.jsxs)("div",{style:{minHeight:"80vh"},children:[Object(z.jsx)(He,{toast:q,setToast:_}),Object(z.jsx)(Ae,{handleDelete:L,setHandleDelete:E,currentItem:I,deleteItem:M}),Object(z.jsx)("h2",{className:"mb-2",children:"Article"}),Object(z.jsx)("div",{style:{padding:"0px 10px",marginBottom:"5px"},children:Object(z.jsx)(D.b,{to:"".concat(e.path,"/create"),className:"td-none",children:Object(z.jsx)(T.a,{variant:"contained",size:"small",color:"primary",children:"Create Article"})})}),Object(z.jsx)(Te,{columns:R,data:i,fetchData:J,loading:x,pageCount:g,dataRange:u})]})},Ve=a(227),Le=a(186),Ee=a(184),Re=a(181),Je=a(182),Me=a(79),Ge=a(310),Fe=a.n(Ge),Ue=(a(414),{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["blockquote","code-block"],["clean"]],clipboard:{matchVisual:!1}}),Xe=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","align","color","background","link","image","video","blockquote","code-block"],Ke=function(e){var t=e.value,a=e.setValue;return Object(z.jsx)("div",{children:Object(z.jsx)(Fe.a,{theme:"snow",value:t.content,name:"content",modules:Ue,formats:Xe,onChange:function(e){a(Object(h.a)(Object(h.a)({},t),{},{content:e}))}})})},Qe=a(223),Ye=function(){var e,t,a,r,s,i={title:"",summary:"",content:"",tags:"",status:""},l=Object(c.useState)(i),o=Object(n.a)(l,2),j=o[0],u=o[1],d=Object(c.useState)(!1),b=Object(n.a)(d,2),O=b[0],x=b[1],p=Object(c.useState)({}),m=Object(n.a)(p,2),f=m[0],v=m[1],g=Object(c.useState)(!1),S=Object(n.a)(g,2),y=S[0],C=S[1],k=function(){var e=Object(se.a)(re.a.mark((function e(t){var a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x(!0),e.next=4,le.a.post("/article",j);case 4:if(a=e.sent,(n=a.data).status){e.next=10;break}return Object(Me.a)(n.errors,v),x(!1),e.abrupt("return",!1);case 10:v({}),u(i),x(!1),C(n.message);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{children:[Object(z.jsx)("h2",{children:"Add Article"}),Object(z.jsx)(He,{toast:y,setToast:C}),Object(z.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:k,children:[Object(z.jsxs)(ee.a,{container:!0,spacing:3,children:[Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)(Ve.a,{required:!0,id:"outlined-required",name:"title",fullWidth:!0,label:"Title",error:!!f.title,helperText:null!==(e=f.title)&&void 0!==e?e:"",value:j.title,onChange:function(e){return u(Object(h.a)(Object(h.a)({},j),{},{title:e.target.value}))}})}),Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)(Ve.a,{required:!0,id:"outlined-required",name:"summary",fullWidth:!0,label:"Summary",error:!!f.summary,helperText:null!==(t=f.summary)&&void 0!==t?t:"",value:j.summary,onChange:function(e){return u(Object(h.a)(Object(h.a)({},j),{},{summary:e.target.value}))}})}),Object(z.jsxs)(ee.a,{item:!0,xs:12,children:[Object(z.jsx)(Le.a,{id:"rich-text",className:"mb-2",error:!!f.content,children:"Content *"}),Object(z.jsx)(Je.a,{error:!0,children:null!==(a=f.content)&&void 0!==a?a:""}),Object(z.jsx)(Ke,{value:j,setValue:u})]}),Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)(Ve.a,{required:!0,id:"outlined-required",name:"summary",fullWidth:!0,label:"Tags",error:!!f.tags,helperText:null!==(r=f.tags)&&void 0!==r?r:"",value:j.tags,onChange:function(e){return u(Object(h.a)(Object(h.a)({},j),{},{tags:e.target.value}))}})}),Object(z.jsx)(ee.a,{item:!0,xs:12,sm:4,children:Object(z.jsxs)(Re.a,{fullWidth:!0,error:!!f.status,children:[Object(z.jsx)(Le.a,{id:"demo-simple-select-label",required:!0,children:"Status"}),Object(z.jsxs)(Ee.a,{labelId:"demo-simple-select-label",id:"manager-select",name:"manager_id",value:j.status,onChange:function(e){return u(Object(h.a)(Object(h.a)({},j),{},{status:e.target.value}))},children:[Object(z.jsx)(q.a,{value:"publish",children:"Publish"}),Object(z.jsx)(q.a,{value:"draft",children:"Draft"}),Object(z.jsx)(q.a,{value:"archive",children:"Archive"})]}),Object(z.jsx)(Je.a,{children:null!==(s=f.status)&&void 0!==s?s:""})]})})]}),Object(z.jsxs)(T.a,{type:"submit",variant:"contained",className:"mt-3",color:"primary",size:"small",children:["Submit ",O?Object(z.jsx)(Qe.a,{className:"progress"}):""]})]})]})},Ze=function(){var e,t,a,r,s,i,l=Object(d.i)().slug,o="/article/".concat(l),j=Object(c.useState)({title:"",summary:"",content:"",tags:"",status:""}),u=Object(n.a)(j,2),b=u[0],O=u[1],x=Object(c.useState)(!0),p=Object(n.a)(x,2),m=p[0],f=p[1],v=Object(c.useState)(!1),g=Object(n.a)(v,2),S=g[0],y=g[1],C=Object(c.useState)({}),k=Object(n.a)(C,2),w=k[0],N=k[1],D=Object(c.useState)(!1),P=Object(n.a)(D,2),_=P[0],H=P[1],A=Object(c.useState)(null),I=Object(n.a)(A,2),W=I[0],B=I[1];Object(c.useEffect)((function(){V()}),[]);var V=function(){var e=Object(se.a)(re.a.mark((function e(){var t,a,n,c,r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.get(o);case 2:t=e.sent,a=t.data,n=a.data,c=a.status,r=a.message,c||B(r),O(n),f(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(se.a)(re.a.mark((function e(t){var a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y(!0),0!==b.content.replace(/<(.|\n)*?>/g,"").trim().length){e.next=6;break}return N(Object(h.a)(Object(h.a)({},w),{},{content:"Content cannot be empty"})),y(!1),e.abrupt("return",!1);case 6:return e.next=8,le.a.put(o,b);case 8:if(a=e.sent,(n=a.data).status){e.next=14;break}return Object(Me.a)(n.errors,N),y(!1),e.abrupt("return",!1);case 14:N({}),y(!1),H(n.message);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m?Object(z.jsx)("div",{children:"Loading..."}):W?Object(z.jsx)("div",{children:W}):Object(z.jsxs)("div",{children:[Object(z.jsx)("h2",{children:"Edit Article"}),Object(z.jsx)(He,{toast:_,setToast:H}),Object(z.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:L,children:[Object(z.jsxs)(ee.a,{container:!0,spacing:3,children:[Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)(Ve.a,{required:!0,id:"outlined-required",name:"title",fullWidth:!0,label:"Title",error:!!w.title,helperText:null!==(e=w.title)&&void 0!==e?e:"",value:b.title,onChange:function(e){return O(Object(h.a)(Object(h.a)({},b),{},{title:e.target.value}))}})}),Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)(Ve.a,{required:!0,id:"outlined-required",name:"summary",fullWidth:!0,label:"Summary",error:!!w.summary,helperText:null!==(t=w.summary)&&void 0!==t?t:"",value:null!==(a=b.summary)&&void 0!==a?a:"",onChange:function(e){return O(Object(h.a)(Object(h.a)({},b),{},{summary:e.target.value}))}})}),Object(z.jsxs)(ee.a,{item:!0,xs:12,children:[Object(z.jsx)(Le.a,{id:"rich-text",className:"mb-2",error:!!w.content,children:"Content *"}),Object(z.jsx)(Je.a,{error:!0,children:null!==(r=w.content)&&void 0!==r?r:""}),Object(z.jsx)(Ke,{value:b,setValue:O})]}),Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)(Ve.a,{required:!0,id:"outlined-required",name:"summary",fullWidth:!0,label:"Tags",error:!!w.tags,helperText:null!==(s=w.tags)&&void 0!==s?s:"",value:b.tags,onChange:function(e){return O(Object(h.a)(Object(h.a)({},b),{},{tags:e.target.value}))}})}),Object(z.jsx)(ee.a,{item:!0,xs:12,sm:4,children:Object(z.jsxs)(Re.a,{fullWidth:!0,error:!!w.status,children:[Object(z.jsx)(Le.a,{id:"demo-simple-select-label",required:!0,children:"Status"}),Object(z.jsxs)(Ee.a,{labelId:"demo-simple-select-label",id:"manager-select",name:"manager_id",value:b.status,onChange:function(e){return O(Object(h.a)(Object(h.a)({},b),{},{status:e.target.value}))},children:[Object(z.jsx)(q.a,{value:"publish",children:"Publish"}),Object(z.jsx)(q.a,{value:"draft",children:"Draft"}),Object(z.jsx)(q.a,{value:"archive",children:"Archive"})]}),Object(z.jsx)(Je.a,{children:null!==(i=w.status)&&void 0!==i?i:""})]})})]}),Object(z.jsxs)(T.a,{type:"submit",variant:"contained",className:"mt-3",color:"primary",size:"small",children:["Update ",S?Object(z.jsx)(Qe.a,{className:"progress"}):""]})]})]})},$e=Object(l.a)((function(e){return{paper:{padding:e.spacing(2)}}})),et=function(){var e=$e(),t=Object(d.j)();return Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)($.a,{className:e.paper,children:Object(z.jsxs)(d.d,{children:[Object(z.jsx)(d.b,{exact:!0,path:t.url,component:Be}),Object(z.jsx)(d.b,{exact:!0,path:"".concat(t.url,"/create"),component:Ye}),Object(z.jsx)(d.b,{exact:!0,path:"".concat(t.url,"/edit/:slug"),component:Ze})]})})})},tt=function(){var e=Object(d.j)(),t=Object(d.g)(),a=r.a.useState([]),s=Object(n.a)(a,2),i=s[0],l=s[1],o=Object(c.useState)({from:null,to:null}),j=Object(n.a)(o,2),u=j[0],b=j[1],O=r.a.useState(!1),h=Object(n.a)(O,2),x=h[0],p=h[1],m=r.a.useState(0),v=Object(n.a)(m,2),g=v[0],S=v[1],y=Object(c.useState)(null),C=Object(n.a)(y,2),k=C[0],w=C[1],N=Object(c.useState)(!1),P=Object(n.a)(N,2),q=P[0],_=P[1],H=Object(c.useState)({slug:null,index:null}),A=Object(n.a)(H,2),I=A[0],W=A[1],B=Object(c.useState)(!1),V=Object(n.a)(B,2),L=V[0],E=V[1],R=Object(c.useMemo)((function(){return[{Header:"Project title",accessor:"title",Cell:function(e){var t=e.row,a=e.value;return Object(z.jsx)("a",{href:"/projects/".concat(t.original.slug_title),target:"_blank",rel:"noreferrer",children:a})}},{Header:"Status",accessor:"status",Cell:function(e){var t=e.value;return Object(z.jsx)(oe.a,{label:t})}},{Header:"Created At",accessor:"created_at",Cell:function(e){var t=e.value;return Object(z.jsx)("span",{children:new Date(t).toDateString()})}},{Header:"Action",accessor:"id",Cell:function(a){var n=a.row;return Object(z.jsxs)("div",{children:[Object(z.jsx)(Oe.a,{title:"Edit",children:Object(z.jsx)(f.a,{"aria-label":"delete",size:"small",onClick:function(){t.push("".concat(e.path,"/edit/").concat(n.original.slug_title))},className:"mr-3",children:Object(z.jsx)(ue.a,{})})}),Object(z.jsx)(Oe.a,{title:"Delete",children:Object(z.jsx)(f.a,{"aria-label":"delete",size:"small",onClick:function(e){E(!0),W({slug:n.original.slug_title,index:n.index})},className:"mr-3",children:Object(z.jsx)(be.a,{})})})]})}}]}),[t,e]),J=Object(c.useCallback)(function(){var e=Object(se.a)(re.a.mark((function e(t,a){var n,c,r,s,i,o;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,le.a.get("".concat("/project","?page=").concat(t,"&per_page=").concat(a,"&all=yes"));case 3:if((n=e.sent).data.status){e.next=7;break}return w(n.data.message),e.abrupt("return",!1);case 7:c=n.data.data,r=c.data,s=c.total,i=c.from,o=c.to,l(r),b({from:i,to:o,total:s}),S(Math.ceil(s/a)),p(!1);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[]),M=function(){var e=Object(se.a)(re.a.mark((function e(t){var a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,le.a.delete("/project/".concat(t));case 3:a=e.sent,(n=Object(ne.a)(i)).splice(I.index,1),l(n),E(!1),_(a.data.message);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return k?Object(z.jsx)("div",{children:k}):Object(z.jsxs)("div",{children:[Object(z.jsx)(He,{toast:q,setToast:_}),Object(z.jsx)(Ae,{handleDelete:L,setHandleDelete:E,currentItem:I,deleteItem:M}),Object(z.jsx)("h2",{className:"mb-2",children:"Project"}),Object(z.jsx)("div",{style:{padding:"0px 10px",marginBottom:"5px"},children:Object(z.jsx)(D.b,{to:"".concat(e.path,"/create"),className:"td-none",children:Object(z.jsx)(T.a,{variant:"contained",size:"small",color:"primary",children:"Create Project"})})}),Object(z.jsx)(Te,{columns:R,data:i,fetchData:J,loading:x,pageCount:g,dataRange:u})]})},at=function(){var e,t,a,r={title:"",content:"",status:""},s=Object(c.useState)(r),i=Object(n.a)(s,2),l=i[0],o=i[1],j=Object(c.useState)(!1),u=Object(n.a)(j,2),d=u[0],b=u[1],O=Object(c.useState)({}),x=Object(n.a)(O,2),p=x[0],m=x[1],f=Object(c.useState)(!1),v=Object(n.a)(f,2),g=v[0],S=v[1],y=function(){var e=Object(se.a)(re.a.mark((function e(t){var a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!0),e.next=4,le.a.post("/project",l);case 4:if(a=e.sent,(n=a.data).status){e.next=10;break}return Object(Me.a)(n.errors,m),b(!1),e.abrupt("return",!1);case 10:m({}),o(r),b(!1),S(n.message);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{children:[Object(z.jsx)("h2",{children:"Add Project"}),Object(z.jsx)(He,{toast:g,setToast:S}),Object(z.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:y,children:[Object(z.jsxs)(ee.a,{container:!0,spacing:3,children:[Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)(Ve.a,{required:!0,id:"outlined-required",name:"title",fullWidth:!0,label:"Title",error:!!p.title,helperText:null!==(e=p.title)&&void 0!==e?e:"",value:l.title,onChange:function(e){return o(Object(h.a)(Object(h.a)({},l),{},{title:e.target.value}))}})}),Object(z.jsxs)(ee.a,{item:!0,xs:12,children:[Object(z.jsx)(Le.a,{id:"rich-text",className:"mb-2",error:!!p.content,children:"Content *"}),Object(z.jsx)(Je.a,{error:!0,children:null!==(t=p.content)&&void 0!==t?t:""}),Object(z.jsx)(Ke,{value:l,setValue:o})]}),Object(z.jsx)(ee.a,{item:!0,xs:12,sm:4,children:Object(z.jsxs)(Re.a,{fullWidth:!0,error:!!p.status,children:[Object(z.jsx)(Le.a,{id:"demo-simple-select-label",required:!0,children:"Status"}),Object(z.jsxs)(Ee.a,{labelId:"demo-simple-select-label",id:"manager-select",name:"manager_id",value:l.status,onChange:function(e){return o(Object(h.a)(Object(h.a)({},l),{},{status:e.target.value}))},children:[Object(z.jsx)(q.a,{value:"publish",children:"Publish"}),Object(z.jsx)(q.a,{value:"draft",children:"Draft"}),Object(z.jsx)(q.a,{value:"archive",children:"Archive"})]}),Object(z.jsx)(Je.a,{children:null!==(a=p.status)&&void 0!==a?a:""})]})})]}),Object(z.jsxs)(T.a,{type:"submit",variant:"contained",className:"mt-3",color:"primary",size:"small",children:["Submit ",d?Object(z.jsx)(Qe.a,{className:"progress"}):""]})]})]})},nt=function(){var e,t,a,r=Object(d.i)().slug,s="/project/".concat(r),i=Object(c.useState)({title:"",content:"",status:""}),l=Object(n.a)(i,2),o=l[0],j=l[1],u=Object(c.useState)(!0),b=Object(n.a)(u,2),O=b[0],x=b[1],p=Object(c.useState)(!1),m=Object(n.a)(p,2),f=m[0],v=m[1],g=Object(c.useState)({}),S=Object(n.a)(g,2),y=S[0],C=S[1],k=Object(c.useState)(!1),w=Object(n.a)(k,2),N=w[0],D=w[1],P=Object(c.useState)(null),_=Object(n.a)(P,2),H=_[0],A=_[1];Object(c.useEffect)((function(){I()}),[]);var I=function(){var e=Object(se.a)(re.a.mark((function e(){var t,a,n,c,r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.get(s);case 2:t=e.sent,a=t.data,n=a.data,c=a.status,r=a.message,c||A(r),j(n),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(se.a)(re.a.mark((function e(t){var a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v(!0),0!==o.content.replace(/<(.|\n)*?>/g,"").trim().length){e.next=6;break}return C(Object(h.a)(Object(h.a)({},y),{},{content:"Content cannot be empty"})),v(!1),e.abrupt("return",!1);case 6:return e.next=8,le.a.put(s,o);case 8:if(a=e.sent,(n=a.data).status){e.next=14;break}return Object(Me.a)(n.errors,C),v(!1),e.abrupt("return",!1);case 14:C({}),v(!1),D(n.message);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return O?Object(z.jsx)("div",{children:"Loading..."}):H?Object(z.jsx)("div",{children:H}):Object(z.jsxs)("div",{children:[Object(z.jsx)("h2",{children:"Edit Project"}),Object(z.jsx)(He,{toast:N,setToast:D}),Object(z.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:W,children:[Object(z.jsxs)(ee.a,{container:!0,spacing:3,children:[Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)(Ve.a,{required:!0,id:"outlined-required",name:"title",fullWidth:!0,label:"Title",error:!!y.title,helperText:null!==(e=y.title)&&void 0!==e?e:"",value:o.title,onChange:function(e){return j(Object(h.a)(Object(h.a)({},o),{},{title:e.target.value}))}})}),Object(z.jsxs)(ee.a,{item:!0,xs:12,children:[Object(z.jsx)(Le.a,{id:"rich-text",className:"mb-2",error:!!y.content,children:"Content *"}),Object(z.jsx)(Je.a,{error:!0,children:null!==(t=y.content)&&void 0!==t?t:""}),Object(z.jsx)(Ke,{value:o,setValue:j})]}),Object(z.jsx)(ee.a,{item:!0,xs:12,sm:4,children:Object(z.jsxs)(Re.a,{fullWidth:!0,error:!!y.status,children:[Object(z.jsx)(Le.a,{id:"demo-simple-select-label",required:!0,children:"Status"}),Object(z.jsxs)(Ee.a,{labelId:"demo-simple-select-label",id:"manager-select",name:"manager_id",value:o.status,onChange:function(e){return j(Object(h.a)(Object(h.a)({},o),{},{status:e.target.value}))},children:[Object(z.jsx)(q.a,{value:"publish",children:"Publish"}),Object(z.jsx)(q.a,{value:"draft",children:"Draft"}),Object(z.jsx)(q.a,{value:"archive",children:"Archive"}),"))}"]}),Object(z.jsx)(Je.a,{children:null!==(a=y.status)&&void 0!==a?a:""})]})})]}),Object(z.jsxs)(T.a,{type:"submit",variant:"contained",className:"mt-3",color:"primary",size:"small",children:["Update ",f?Object(z.jsx)(Qe.a,{className:"progress"}):""]})]})]})},ct=Object(l.a)((function(e){return{paper:{padding:e.spacing(2)}}})),rt=function(){var e=ct(),t=Object(d.j)();return Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)($.a,{className:e.paper,children:Object(z.jsxs)(d.d,{children:[Object(z.jsx)(d.b,{exact:!0,path:t.url,component:tt}),Object(z.jsx)(d.b,{exact:!0,path:"".concat(t.url,"/create"),component:at}),Object(z.jsx)(d.b,{exact:!0,path:"".concat(t.url,"/edit/:slug"),component:nt})]})})})},st=function(){var e=Object(d.j)(),t=Object(d.g)(),a=r.a.useState([]),s=Object(n.a)(a,2),i=s[0],l=s[1],o=Object(c.useState)({from:null,to:null}),j=Object(n.a)(o,2),u=j[0],b=j[1],O=r.a.useState(!1),h=Object(n.a)(O,2),x=h[0],p=h[1],m=r.a.useState(0),v=Object(n.a)(m,2),g=v[0],S=v[1],y=Object(c.useState)(null),C=Object(n.a)(y,2),k=C[0],w=C[1],N=Object(c.useState)(!1),P=Object(n.a)(N,2),q=P[0],_=P[1],H=Object(c.useState)({slug:null,index:null}),A=Object(n.a)(H,2),I=A[0],W=A[1],B=Object(c.useState)(!1),V=Object(n.a)(B,2),L=V[0],E=V[1],R=Object(c.useMemo)((function(){return[{Header:"Journal title",accessor:"title",Cell:function(e){var t=e.row,a=e.value;return Object(z.jsx)("a",{href:"/journal/".concat(t.original.slug_title),target:"_blank",rel:"noreferrer",children:a})}},{Header:"Status",accessor:"status",Cell:function(e){var t=e.value;return Object(z.jsx)(oe.a,{label:t})}},{Header:"Created At",accessor:"created_at",Cell:function(e){var t=e.value;return Object(z.jsx)("span",{children:new Date(t).toDateString()})}},{Header:"Action",accessor:"id",Cell:function(a){var n=a.row;return Object(z.jsxs)("div",{children:[Object(z.jsx)(Oe.a,{title:"Edit",children:Object(z.jsx)(f.a,{"aria-label":"delete",size:"small",onClick:function(){t.push("".concat(e.path,"/edit/").concat(n.original.slug_title))},className:"mr-3",children:Object(z.jsx)(ue.a,{})})}),Object(z.jsx)(Oe.a,{title:"Delete",children:Object(z.jsx)(f.a,{"aria-label":"delete",size:"small",onClick:function(e){E(!0),W({slug:n.original.slug_title,index:n.index})},className:"mr-3",children:Object(z.jsx)(be.a,{})})})]})}}]}),[t,e]),J=Object(c.useCallback)(function(){var e=Object(se.a)(re.a.mark((function e(t,a){var n,c,r,s,i,o;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,le.a.get("".concat("/journal","?page=").concat(t,"&per_page=").concat(a,"&all=yes"));case 3:if((n=e.sent).data.status){e.next=7;break}return w(n.data.message),e.abrupt("return",!1);case 7:c=n.data.data,r=c.data,s=c.total,i=c.from,o=c.to,l(r),b({from:i,to:o,total:s}),S(Math.ceil(s/a)),p(!1);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[]),M=function(){var e=Object(se.a)(re.a.mark((function e(t){var a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,le.a.delete("/journal/".concat(t));case 3:a=e.sent,(n=Object(ne.a)(i)).splice(I.index,1),l(n),E(!1),_(a.data.message);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return k?Object(z.jsx)("div",{children:k}):Object(z.jsxs)("div",{children:[Object(z.jsx)(He,{toast:q,setToast:_}),Object(z.jsx)(Ae,{handleDelete:L,setHandleDelete:E,currentItem:I,deleteItem:M}),Object(z.jsx)("h2",{className:"mb-2",children:"Journal"}),Object(z.jsx)("div",{style:{padding:"0px 10px",marginBottom:"5px"},children:Object(z.jsx)(D.b,{to:"".concat(e.path,"/create"),className:"td-none",children:Object(z.jsx)(T.a,{variant:"contained",size:"small",color:"primary",children:"Create Journal"})})}),Object(z.jsx)(Te,{columns:R,data:i,fetchData:J,loading:x,pageCount:g,dataRange:u})]})},it=function(){var e,t,a,r={title:"",content:"",status:""},s=Object(c.useState)(r),i=Object(n.a)(s,2),l=i[0],o=i[1],j=Object(c.useState)(!1),u=Object(n.a)(j,2),d=u[0],b=u[1],O=Object(c.useState)({}),x=Object(n.a)(O,2),p=x[0],m=x[1],f=Object(c.useState)(!1),v=Object(n.a)(f,2),g=v[0],S=v[1],y=function(){var e=Object(se.a)(re.a.mark((function e(t){var a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!0),e.next=4,le.a.post("/journal",l);case 4:if(a=e.sent,(n=a.data).status){e.next=10;break}return Object(Me.a)(n.errors,m),b(!1),e.abrupt("return",!1);case 10:m({}),o(r),b(!1),S(n.message);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{children:[Object(z.jsx)("h2",{children:"Add Journal"}),Object(z.jsx)(He,{toast:g,setToast:S}),Object(z.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:y,children:[Object(z.jsxs)(ee.a,{container:!0,spacing:3,children:[Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)(Ve.a,{required:!0,id:"outlined-required",name:"title",fullWidth:!0,label:"Title",error:!!p.title,helperText:null!==(e=p.title)&&void 0!==e?e:"",value:l.title,onChange:function(e){return o(Object(h.a)(Object(h.a)({},l),{},{title:e.target.value}))}})}),Object(z.jsxs)(ee.a,{item:!0,xs:12,children:[Object(z.jsx)(Le.a,{id:"rich-text",className:"mb-2",error:!!p.content,children:"Content *"}),Object(z.jsx)(Je.a,{error:!0,children:null!==(t=p.content)&&void 0!==t?t:""}),Object(z.jsx)(Ke,{value:l,setValue:o})]}),Object(z.jsx)(ee.a,{item:!0,xs:12,sm:4,children:Object(z.jsxs)(Re.a,{fullWidth:!0,error:!!p.status,children:[Object(z.jsx)(Le.a,{id:"demo-simple-select-label",required:!0,children:"Status"}),Object(z.jsxs)(Ee.a,{labelId:"demo-simple-select-label",id:"manager-select",name:"manager_id",value:l.status,onChange:function(e){return o(Object(h.a)(Object(h.a)({},l),{},{status:e.target.value}))},children:[Object(z.jsx)(q.a,{value:"publish",children:"Publish"}),Object(z.jsx)(q.a,{value:"draft",children:"Draft"}),Object(z.jsx)(q.a,{value:"archive",children:"Archive"})]}),Object(z.jsx)(Je.a,{children:null!==(a=p.status)&&void 0!==a?a:""})]})})]}),Object(z.jsxs)(T.a,{type:"submit",variant:"contained",className:"mt-3",color:"primary",size:"small",children:["Submit ",d?Object(z.jsx)(Qe.a,{className:"progress"}):""]})]})]})},lt=function(){var e,t,a,r=Object(d.i)().slug,s="/journal/".concat(r),i=Object(c.useState)({title:"",content:"",status:""}),l=Object(n.a)(i,2),o=l[0],j=l[1],u=Object(c.useState)(!0),b=Object(n.a)(u,2),O=b[0],x=b[1],p=Object(c.useState)(!1),m=Object(n.a)(p,2),f=m[0],v=m[1],g=Object(c.useState)({}),S=Object(n.a)(g,2),y=S[0],C=S[1],k=Object(c.useState)(!1),w=Object(n.a)(k,2),N=w[0],D=w[1],P=Object(c.useState)(null),_=Object(n.a)(P,2),H=_[0],A=_[1];Object(c.useEffect)((function(){I()}),[]);var I=function(){var e=Object(se.a)(re.a.mark((function e(){var t,a,n,c,r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.get(s);case 2:t=e.sent,a=t.data,n=a.data,c=a.status,r=a.message,c||A(r),j(n),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(se.a)(re.a.mark((function e(t){var a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v(!0),0!==o.content.replace(/<(.|\n)*?>/g,"").trim().length){e.next=6;break}return C(Object(h.a)(Object(h.a)({},y),{},{content:"Content cannot be empty"})),v(!1),e.abrupt("return",!1);case 6:return e.next=8,le.a.put(s,o);case 8:if(a=e.sent,(n=a.data).status){e.next=14;break}return Object(Me.a)(n.errors,C),v(!1),e.abrupt("return",!1);case 14:C({}),v(!1),D(n.message);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return O?Object(z.jsx)("div",{children:"Loading..."}):H?Object(z.jsx)("div",{children:H}):Object(z.jsxs)("div",{children:[Object(z.jsx)("h2",{children:"Edit Journal"}),Object(z.jsx)(He,{toast:N,setToast:D}),Object(z.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:W,children:[Object(z.jsxs)(ee.a,{container:!0,spacing:3,children:[Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)(Ve.a,{required:!0,id:"outlined-required",name:"title",fullWidth:!0,label:"Title",error:!!y.title,helperText:null!==(e=y.title)&&void 0!==e?e:"",value:o.title,onChange:function(e){return j(Object(h.a)(Object(h.a)({},o),{},{title:e.target.value}))}})}),Object(z.jsxs)(ee.a,{item:!0,xs:12,children:[Object(z.jsx)(Le.a,{id:"rich-text",className:"mb-2",error:!!y.content,children:"Content *"}),Object(z.jsx)(Je.a,{error:!0,children:null!==(t=y.content)&&void 0!==t?t:""}),Object(z.jsx)(Ke,{value:o,setValue:j})]}),Object(z.jsx)(ee.a,{item:!0,xs:12,sm:4,children:Object(z.jsxs)(Re.a,{fullWidth:!0,error:!!y.status,children:[Object(z.jsx)(Le.a,{id:"demo-simple-select-label",required:!0,children:"Status"}),Object(z.jsxs)(Ee.a,{labelId:"demo-simple-select-label",id:"manager-select",name:"manager_id",value:o.status,onChange:function(e){return j(Object(h.a)(Object(h.a)({},o),{},{status:e.target.value}))},children:[Object(z.jsx)(q.a,{value:"publish",children:"Publish"}),Object(z.jsx)(q.a,{value:"draft",children:"Draft"}),Object(z.jsx)(q.a,{value:"archive",children:"Archive"}),"))}"]}),Object(z.jsx)(Je.a,{children:null!==(a=y.status)&&void 0!==a?a:""})]})})]}),Object(z.jsxs)(T.a,{type:"submit",variant:"contained",className:"mt-3",color:"primary",size:"small",children:["Update ",f?Object(z.jsx)(Qe.a,{className:"progress"}):""]})]})]})},ot=Object(l.a)((function(e){return{paper:{padding:e.spacing(2)}}})),jt=function(){var e=ot(),t=Object(d.j)();return Object(z.jsx)(ee.a,{item:!0,xs:12,children:Object(z.jsx)($.a,{className:e.paper,children:Object(z.jsxs)(d.d,{children:[Object(z.jsx)(d.b,{exact:!0,path:t.url,component:st}),Object(z.jsx)(d.b,{exact:!0,path:"".concat(t.url,"/create"),component:it}),Object(z.jsx)(d.b,{exact:!0,path:"".concat(t.url,"/edit/:slug"),component:lt})]})})})},ut=a(415),dt=a(451),bt=function(){var e=window.location.pathname,t=e.split("/"),a=Object(ut.a)(t).slice(1);if(e.includes("_")){var n=a.length;a=a.slice(0,n-1)}return Object(z.jsx)("div",{className:"mb-2",children:Object(z.jsx)(dt.a,{"aria-label":"breadcrumb",children:a.map((function(e,t){return Object(z.jsx)(D.b,{style:Ot,to:ht(t,a),children:e},t)}))})})},Ot={textTransform:"capitalize",color:"inherit"},ht=function(e,t){var a=t.slice(0,e+1);return"/".concat(a.join("/"))},xt=(t.default=function(){var e=xt(),t=Object(c.useContext)(j.a),a=Object(n.a)(t,2),r=a[0],l=a[1],O=Object(c.useState)(!0),h=Object(n.a)(O,2),x=h[0],p=h[1];Object(c.useEffect)((function(){Object(u.a)(l),p(!1)}),[]);var m=Object(s.a)({palette:{type:"light",primary:{main:"#1976d2"}},typography:{fontFamily:"ubuntu"}});return x?Object(z.jsx)("div",{children:"Loading..."}):null===r?Object(z.jsx)(d.d,{children:Object(z.jsx)(d.b,{path:"/",render:function(){return Object(z.jsx)(d.a,{to:"/login"})}})}):(le.a.defaults.baseURL="".concat("https://budash.net:81/api"),le.a.defaults.headers.common.Authorization="".concat(r.token_type," ").concat(r.access_token),Object(z.jsx)(i.a,{theme:m,children:Object(z.jsxs)("div",{className:e.root,children:[Object(z.jsx)(o.a,{}),Object(z.jsx)(Y,{}),Object(z.jsxs)("main",{className:e.content,children:[Object(z.jsx)("div",{className:e.appBarSpacer}),Object(z.jsxs)(b.a,{maxWidth:"xl",className:e.container,children:[Object(z.jsx)(bt,{}),Object(z.jsxs)(d.d,{children:[Object(z.jsx)(d.b,{exact:!0,path:"/dashboard",component:te}),Object(z.jsx)(d.b,{path:"/dashboard/article",component:et}),Object(z.jsx)(d.b,{path:"/dashboard/project",component:rt}),Object(z.jsx)(d.b,{path:"/dashboard/journal",component:jt}),Object(z.jsx)(d.a,{to:"/dashboard"})]})]})]})]})}))},Object(l.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",minHeight:"50vh"},fixedHeight:{height:240}}})))}}]);
//# sourceMappingURL=4.6224d7b5.chunk.js.map